<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trade-X Dynamischer Handelsplatz 5.5</title>

    <!-- PWA Meta Tags -->
    <meta name="description" content="Dynamischer Handelsplatz fÃ¼r Ressourcen-Trading mit Echtzeit-Preisen und Marktanalysen">
    <meta name="theme-color" content="#3b82f6">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Trade-X">

    <!-- PWA Manifest -->
    <link rel="manifest" href="/Trade-X/manifest.json">

    <!-- Favicons and App Icons -->
    <link rel="icon" type="image/svg+xml" href="/Trade-X/icon-template.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="/Trade-X/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/Trade-X/icons/icon-512x512.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/Trade-X/icons/icon-192x192.png">

    <!-- Security: CDN resources with SRI integrity checks -->
    <!-- Note: Tailwind CSS Play CDN does not support SRI as it's dynamically generated.
         For production, consider using a specific Tailwind build with SRI hash. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"
            integrity="sha512-TW5s0IT/IppJtu76UbysrBH9Hy/5X41OTAbQuffZFU6lQ1rdcLHzpU5BzVvr/YFykoiMYZVWlr/PX1mDcfM9Qg=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"
            integrity="sha512-gwSDP1iEKl4KG0wi3N89RAJU91s78jb/TGC6lsbF5IyR2c19Rn7Jl1icK4K4kUiJNwQUEPI7o98T+GJVWNuvIQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/1.4.0/chartjs-plugin-annotation.min.js"
            integrity="sha512-HrwQrg8S/xLPE6Qwe7XOghA/FOxX+tuVF4TxbvS73/zKJSs/b1gVl/P4MsdfTFWYFYg/ISVNYIINcg35Xvr6QQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
          rel="stylesheet"
          crossorigin="anonymous">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="p-2 lg:p-4">
    <!-- Allgemeiner Hinweis -->
    <div class="fixed top-0 left-0 right-0 z-50 p-2 text-white text-xs text-center font-bold" style="background-color: #1a202c; border-bottom: 2px solid #2d3748;">
        Trade-X Companion APP
    </div>

    <!-- Market View (Existing Functionality) -->
    <section id="view-market" class="view-section active">
        <div class="main-grid w-full" style="margin-top: 40px;">

        <!-- Steuerung -->
        <div id="steuerung-panel" class="col-span-1 lg:row-span-1 glass-panel rounded-xl p-3 tile-container">
            <div class="tile-header">
                <h2 class="text-lg font-bold gradient-text">âš™ï¸ Steuerung</h2>
                <button id="collapse-btn" class="control-btn collapse-btn text-lg font-bold w-8 h-8 rounded-full" title="Einklappen">
                    <svg xmlns="http://www.w.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                </button>
            </div>
            <div class="flex-grow min-h-0 overflow-y-auto pr-1 tile-content">
                <!-- Tycoon Edition: Trader Rank Display -->
                <div id="trader-rank-display" class="trader-rank">
                    <div class="rank-title">ğŸ† HÃ¤ndler-Rang</div>
                    <div class="rank-name" id="rank-name">Neuling</div>
                    <div class="rank-progress" id="rank-progress">0 Trades</div>
                </div>

                <div class="mb-2">
                    <label class="text-xs text-gray-400">Spielmodus:</label>
                    <select id="mode-selector" class="glass-panel text-white rounded-lg p-2 w-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="basis">ğŸŸ¢ Einfach</option>
                        <option value="expert">ğŸ”´ VollstÃ¤ndig</option>
                    </select>
                </div>

                <div class="mb-3 basis-only">
                    <label for="basis-fee-selector" class="text-xs text-gray-400">GrundgebÃ¼hr pro Handel:</label>
                    <select id="basis-fee-selector" class="glass-panel text-white rounded-lg p-2 w-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="1">1 Karte</option>
                        <option value="2" selected>2 Karten</option>
                        <option value="3">3 Karten</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">Die festen Kosten pro Tausch. Die Gesamtkosten ergeben sich aus: <b class="text-gray-400">GebÃ¼hr + 1 Handelskarte + Preisdifferenz</b>.</p>
                </div>

                <div class="expert-only">
                    <div class="grid grid-cols-1 gap-2 mb-2">
                        <div class="reset-btn-wrapper flex flex-col">
                             <label class="text-xs text-gray-400">Neustart:</label>
                            <button id="reset-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-2 rounded-lg text-sm transition-transform active:scale-95 h-full">Spiel zurÃ¼cksetzen</button>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="text-xs text-gray-400">Ressourcen-Set:</label>
                        <select id="resource-set-selector" class="glass-panel text-white rounded-lg p-2 w-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="set_4">Klassisch (4)</option>
                            <option value="set_5" selected>Normal (5)</option>
                            <option value="set_8">Erweitert (8)</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="start-month-selector" class="text-xs text-gray-400">Start-Monat:</label>
                        <select id="start-month-selector" class="glass-panel text-white rounded-lg p-2 w-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="1">Januar</option>
                            <option value="2">Februar</option>
                            <option value="3">MÃ¤rz</option>
                            <option value="4">April</option>
                            <option value="5">Mai</option>
                            <option value="6">Juni</option>
                            <option value="7">Juli</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">Oktober</option>
                            <option value="11">November</option>
                            <option value="12">Dezember</option>
                        </select>
                    </div>

                    <select id="economic-system-selector" class="glass-panel text-white rounded-lg p-2 mb-2 w-full text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500" title="WÃ¤hle das Wirtschaftssystem. Dies kann jederzeit geÃ¤ndert werden und beeinflusst Steuern, Boni und PreisstabilitÃ¤t.">
                        <option value="free_market">ğŸ”¥ Freier Markt</option>
                        <option value="social_market">ğŸ¤ Soziale MW</option>
                        <option value="planned_economy">âš–ï¸ Planwirtschaft</option>
                    </select>
                    <div class="mb-2">
                        <label class="text-xs text-gray-400">Markteinfluss:</label>
                        <input type="range" id="market-influence-slider" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer" min="0" max="2" step="0.1" value="0.5" title="Bestimmt, wie stark deine Trades die Preise beeinflussen (0x = kein Einfluss, 2x = starker Einfluss).">
                        <div class="flex justify-between text-xs text-gray-500">
                            <span>Niedrig</span>
                            <span id="influence-value">0.5x</span>
                            <span>Hoch</span>
                        </div>
                    </div>

                    <div class="mb-2">
                        <label class="text-xs text-gray-400">MarktvolatilitÃ¤t:</label>
                        <input type="range" id="market-volatility-slider" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer" min="0" max="1" step="0.05" value="0.5" title="Bestimmt, wie stark zufÃ¤llige Schwankungen die Preise beeinflussen.">
                        <div class="flex justify-between text-xs text-gray-500">
                            <span>Niedrig (0x)</span>
                            <span id="volatility-value">0.5x</span>
                            <span>Hoch (1x)</span>
                        </div>
                    </div>

                    <div id="system-details" class="text-xs text-gray-300 mb-2 stats-card rounded-lg p-2"></div>
                </div>
                
                <div class="grid grid-cols-4 gap-2 pt-2 mt-4">
                    <button id="undo-btn" class="control-btn p-2 rounded-lg text-lg font-bold disabled:opacity-50" title="RÃ¼ckgÃ¤ngig (Ctrl+Z)">â†¶</button>
                    <button id="redo-btn" class="control-btn p-2 rounded-lg text-lg font-bold disabled:opacity-50" title="Wiederholen (Ctrl+Y)">â†·</button>
                    <button id="help-btn" class="control-btn p-2 rounded-lg text-lg font-bold" title="Hilfe">?</button>
                    <button id="fullscreen-btn" class="control-btn p-2 rounded-lg flex items-center justify-center hover:bg-slate-500 transition-colors" title="Vollbild (F11)">
                        <svg id="fullscreen-icon-open" xmlns="http://www.w.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>
                        <svg id="fullscreen-icon-close" xmlns="http://www.w.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/></svg>
                    </button>
                </div>
            </div>
        </div>

        <div id="insights-panel" class="expert-only col-span-1 lg:row-span-1">
            <div class="glass-panel rounded-xl p-3 flex flex-col">
                <div class="tile-header" style="cursor: default;">
                    <h2 class="text-lg font-bold mb-0 gradient-text">ğŸ“‹ Analyse</h2>
                </div>
                <div class="flex mb-2 flex-shrink-0">
                    <button id="tab-history" class="tab-button active text-sm font-bold px-3 py-1 rounded-l-lg w-1/2">Historie</button>
                    <button id="tab-chart" class="tab-button text-sm font-bold px-3 py-1 rounded-r-lg w-1/2">Chart</button>
                </div>
                <div class="relative flex-1 min-h-0">
                    <div id="tab-content-history" class="tab-content absolute inset-0 text-xs scrollable-content pr-1"></div>
                    <div id="tab-content-chart" class="tab-content hidden absolute inset-0 stats-card rounded-lg p-1">
                        <canvas id="price-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div id="events-panel" class="expert-only tile-container col-span-1 lg:row-span-1 glass-panel rounded-xl p-3">
            <div class="tile-header">
                <h2 class="text-lg font-bold gradient-text">âš¡ Events</h2>
                <button class="control-btn collapse-btn text-lg font-bold w-8 h-8 rounded-full" title="Einklappen">âˆ’</button>
            </div>
            <div class="tile-content flex flex-col flex-grow">
                <div id="events-content" data-event-handler class="flex-grow text-xs scrollable-content pr-1"></div>
                <div class="stats-card rounded-lg p-2 text-xs mt-auto">
                    <div class="flex justify-between items-center"><span class="text-blue-300">ğŸ”® Prognose:</span><span id="forecast-text" class="text-gray-300">Stabil</span></div>
                </div>
            </div>
        </div>
        
        <div id="marktpreise-panel" class="tile-container col-span-1 lg:col-span-2 lg:row-span-1 glass-panel rounded-xl p-3">
            <div class="tile-header" style="justify-content: center;">
                <h2 class="text-lg font-bold text-center gradient-text">ğŸ“ˆ Live-Marktpreise</h2>
            </div>
            <div class="tile-content flex flex-col flex-grow justify-center">
                
                <div id="price-container" class="grid grid-cols-3 sm:grid-cols-5 gap-2 text-center mb-2"></div>
                
                <div class="flex flex-col lg:flex-row gap-3 mt-3">
                    <div id="game-state-display-panel" class="stats-card rounded-lg p-2 flex-1 expert-only">
                        <h3 class="text-sm font-bold mb-2 text-blue-300">ğŸ“Š Spielstand</h3>
                        <div class="flex items-center justify-around mb-2 text-center">
                            <div>
                                <span class="text-sm font-bold">Runde/Monat</span>
                                <span id="round-counter-market" class="block text-xl font-black gradient-text">1</span>
                            </div>
                            <div id="season-display">
                                <!-- Content will be injected by JS -->
                            </div>
                        </div>
                        <button id="end-round-btn-market" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg text-sm transition-transform active:scale-95 floating-element w-full" title="Beendet die aktuelle Runde und aktualisiert die Marktpreise. Passiert automatisch nach einem Handel.">Runde beenden</button>
                    </div>

                    <div id="trading-insights-wrapper" class="flex-1">
                        <!-- Content will be dynamically loaded here by JS -->
                    </div>
                </div>

                <div id="seasonal-chart-container" class="expert-only stats-card rounded-lg p-2 mt-3" style="min-height: 160px;">
                    <div class="flex justify-between items-center mb-1">
                        <h3 class="text-sm font-bold text-blue-300">ğŸ“… Saisonale EinflÃ¼sse</h3>
                        <button id="toggle-seasonal-chart-btn" class="control-btn text-lg font-bold w-6 h-6 rounded-full flex items-center justify-center p-0" title="Einklappen">âˆ’</button>
                    </div>
                    <div id="seasonal-chart-content" class="relative w-full" style="height: 120px;">
                        <canvas id="seasonal-chart"></canvas>
                    </div>
                </div>

                <div class="expert-only text-center stats-card rounded-lg p-2 mt-auto">
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div id="volatility-container"><span class="text-gray-400">VolatilitÃ¤t:</span> <b id="volatility-status" class="ml-1">NORMAL</b></div>
                        <div id="recommendation-container"><span class="text-gray-400">Tipp:</span> <b id="trade-recommendation" class="ml-1">HALTEN</b></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="handelsinterface-panel" class="col-span-1 lg:col-span-2 lg:row-span-1 glass-panel rounded-xl p-4">
            <div class="tile-header flex justify-between items-center">
                <h2 class="text-2xl font-bold gradient-text">ğŸ’° Handels-Interface</h2>
            </div>
            <div class="flex flex-col flex-grow justify-center items-center">
                <div class="flex items-center justify-center gap-4 lg:gap-8 w-full mb-4">
                    <div class="w-2/5 text-center">
                        <label class="block mb-3 font-bold text-lg text-red-300">âŒ Ich gebe:</label>
                        <div id="sell-options" class="grid grid-cols-3 gap-2 lg:gap-3"></div>
                    </div>
                    <div class="text-4xl font-bold text-gray-400 floating-element">âš¡</div>
                    <div class="w-2/5 text-center">
                        <label class="block mb-3 font-bold text-lg text-green-300">âœ… Ich erhalte:</label>
                        <div id="buy-options" class="grid grid-cols-3 gap-2 lg:gap-3"></div>
                    </div>
                </div>
                
                <div id="trade-summary" class="mt-4 text-center h-8 text-lg font-medium"></div>
            </div>
        </div>
        </div>
    </section>

    <!-- Board View (Future Game Board Implementation) -->
    <section id="view-board" class="view-section hidden">
        <div class="flex flex-col items-center justify-center h-screen" style="margin-top: 40px;">
            <div class="glass-panel rounded-2xl p-8 text-center max-w-2xl mx-auto">
                <div class="text-6xl mb-6">ğŸ²</div>
                <h1 class="text-4xl font-bold gradient-text mb-4">Spielbrett-Ansicht</h1>
                <p class="text-xl text-gray-300 mb-6">Hier entsteht das digitale Spielbrett mit 40 Feldern.</p>
                <div class="stats-card rounded-lg p-4 text-left">
                    <h3 class="text-sm font-bold text-blue-300 mb-2">ğŸš€ Coming Soon:</h3>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li>â€¢ Digitales Spielbrett (40 Felder im Kreis)</li>
                        <li>â€¢ WÃ¼rfel-Mechanik mit Animationen</li>
                        <li>â€¢ Spielfiguren & Bewegungen</li>
                        <li>â€¢ Automatischer Wechsel zum Markt bei Handelskarte</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Overlays -->
    <div id="event-banner-container" class="absolute top-0 left-0 right-0 p-4 z-50 pointer-events-none"></div>
    <div id="modal-container">
        <div id="trade-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-50">
            <div class="glass-panel rounded-2xl p-8 w-11/12 max-w-md text-center transform transition-all scale-95 opacity-0">
                <div class="text-4xl mb-4">âš¡</div>
                <h3 class="text-2xl font-bold mb-4 gradient-text">Handel bestÃ¤tigen</h3>
                <p id="modal-trade-details" class="mb-8 text-lg text-gray-300"></p>
                <div class="flex justify-center space-x-4">
                    <button id="confirm-trade-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-xl transition-transform hover:scale-105">âœ… BestÃ¤tigen</button>
                    <button id="cancel-trade-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-xl transition-transform hover:scale-105">âŒ Abbrechen</button>
                </div>
            </div>
        </div>
        <div id="info-modal" class="hidden fixed inset-0 modal-backdrop flex items-center justify-center z-50">
            <div class="glass-panel rounded-2xl p-8 w-11/12 max-w-2xl text-center transform transition-all scale-95 opacity-0">
                <div id="info-modal-icon" class="text-5xl mb-4"></div>
                <h3 id="info-modal-title" class="text-2xl font-bold mb-4 gradient-text"></h3>
                <div id="info-modal-body" class="mb-8 text-base text-gray-300 space-y-2 text-left"></div>
                <button id="close-info-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-xl transition-transform hover:scale-105">ğŸ’¡ Verstanden</button>
            </div>
        </div>
    </div>

    <!-- Game Configuration -->
    <script src="js/config.js"></script>

    <!-- Utility Functions -->
    <script src="js/utils.js"></script>

    <!-- Game Engine -->
    <script src="js/game-engine.js"></script>

    <!-- DOM Cache -->
    <script src="js/dom-cache.js"></script>

    <!-- Managers -->
    <script src="js/managers/sound-manager.js"></script>
    <script src="js/managers/mode-manager.js"></script>
    <script src="js/managers/state-manager.js"></script>
    <script src="js/managers/view-manager.js"></script>
    <script src="js/managers/ui-manager.js"></script>

    <!-- Main Application -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        try {
            SoundManager.playSound('click');
            SoundManager.initializeSynths();
            UIManager.setupUI();
            UIManager.initChart();
            UIManager.initSeasonalChart();
            StateManager.init();
            setTimeout(() => {
                if (ModeManager.currentMode === 'expert') UIManager.showEventBanner({ name: "Handelsplatz bereit!", banner: 'success', description: "ğŸš€ Viel Erfolg beim Handeln!" });
            }, 1000);
        } catch (error) {
            handleGameError(error);
        }

        // Initialize ViewManager
        ViewManager.init();
    });
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        // Service Worker Registrierung fÃ¼r PWA-FunktionalitÃ¤t
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/Trade-X/service-worker.js')
                    .then((registration) => {
                        console.log('âœ… Service Worker registriert:', registration.scope);

                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            console.log('ğŸ”„ Service Worker Update gefunden');

                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Neuer Service Worker verfÃ¼gbar
                                    console.log('âœ¨ Neue Version verfÃ¼gbar!');

                                    // Optional: Zeige Benachrichtigung fÃ¼r Update
                                    if (confirm('Eine neue Version von Trade-X ist verfÃ¼gbar. Jetzt aktualisieren?')) {
                                        newWorker.postMessage({ type: 'SKIP_WAITING' });
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.error('âŒ Service Worker Registrierung fehlgeschlagen:', error);
                    });

                // Listen for Service Worker messages
                navigator.serviceWorker.addEventListener('message', (event) => {
                    if (event.data && event.data.type === 'CACHE_CLEARED') {
                        console.log('ğŸ—‘ï¸ Cache wurde geleert');
                    }
                });

                // Reload page when new Service Worker takes control
                let refreshing = false;
                navigator.serviceWorker.addEventListener('controllerchange', () => {
                    if (!refreshing) {
                        refreshing = true;
                        window.location.reload();
                    }
                });
            });
        }

        // PWA Install Prompt Handler
        let deferredPrompt;
        let installButton;

        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('ğŸ’¾ PWA Install Prompt verfÃ¼gbar');
            // Prevent Chrome 67 and earlier from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;

            // Optional: Zeige einen Install-Button
            // Dieser Code kann aktiviert werden, wenn ein Install-Button gewÃ¼nscht ist
            /*
            installButton = document.createElement('button');
            installButton.textContent = 'ğŸ“± App installieren';
            installButton.className = 'fixed bottom-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg hover:bg-blue-700 z-50';
            installButton.onclick = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`PWA Install: ${outcome}`);
                    deferredPrompt = null;
                    installButton.remove();
                }
            };
            document.body.appendChild(installButton);
            */
        });

        window.addEventListener('appinstalled', () => {
            console.log('âœ… PWA wurde installiert!');
            deferredPrompt = null;
            if (installButton) installButton.remove();
        });

        // Detect if app is running as PWA
        if (window.matchMedia('(display-mode: standalone)').matches ||
            window.navigator.standalone === true) {
            console.log('ğŸš€ App lÃ¤uft als PWA');
            document.documentElement.classList.add('pwa-mode');
        }
    </script>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn" id="nav-btn-board" data-view="board">
            <span class="icon">ğŸ“</span>
            <span>Brett</span>
        </button>
        <button class="nav-btn nav-btn-action" id="nav-btn-action" disabled title="WÃ¼rfeln (coming soon)">
            ğŸ²
        </button>
        <button class="nav-btn active" id="nav-btn-market" data-view="market">
            <span class="icon">ğŸ“ˆ</span>
            <span>Markt</span>
        </button>
    </nav>
</body>
</html>
